# Stepik Extensions
## Структура

*exts* - расширения.

*css* - стили главной страницы.

*img* - логотипы и другие изображения для главной страницы.

*js* - главный модуль Stepik Extensions (extensions.js), библтотеки, stepik-api.

*widgets* - виджеты, доступны глобально через шаблоны.

## Extension
Расширение представляет из себя набор шаблонов, стилей, кода js выполняющие определенную функцию.

Все файлы приложения расположены в директории *exts/\<ext_id>*

Информация обо всех приложениях содержится в файле *exts/exts.json*
### Структура приложения
Главный модуль приложения расположен в *exts/\<ext_id>/js/content.js*

Шаблон для отображения интерфейса приложения расположен в *exts/\<ext_id>/content.html* (см. Шаблонизатор).

Стили в *exts/\<ext_id>/css/content.css*

Логотип в *exts/\<ext_id>/img/loge.png*

Главный модуль, шаблон, стили и логотип загружаются при первом открытии приложения.

### Глобальные объекты доступные приложению
**window.stepik** - объект для доступа к stepik api

**window.exts** - объект содержит информацию обо всех зарегистрированных приложениях и категориях.

### Метод init
При загрузке приложение должно определить в метод init. Этот метод вызывается каждый раз при открытии приложения.

`window.extensions[EXT_ID].init = init;`

В нем приложение долно обновить обработчики событый. Прочитать данные из хранилища и т.д.

### Хранение данных между сессиями
Приложение нужно проектировать так, чтобы не было необходимости показывать предупреждения о наличии несохранненных данных.
Приложение должно сохранять своё состояние между запусками.


## Widget
Готовые визуальные компоненты (шаблон + стили). Можно использовать в шаблонах приложений.

## Шаблонизатор

При загрузке шаблона приложения, он обрабатывается шаблонизатором.

Вставка виджета: ${widget.\<имя виджета>}

Переменные: ${\<поле объекта приложения>}

### Соглашение об именовании

**Именование селекторов CSS**

Для приложений:
\<id приложения>-\<имя селектора>

Для виджетов:
\<id виджета>-\<имя селектора>
