# Stepik Apps
## Структура

*apps* - приложения.

*css* - стили главной страницы.

*img* - логотипы и другие изображения для главной страницы.

*js* - главный модуль Stepik Apps (apps.js), библтотеки, stepik-api.

*widgets* - виджеты, доступны глобально через шаблоны.

## Application
Приложение представляет из себя набор шаблонов, стилей, кода js выполняющие определенную функцию.

Все файлы приложения расположены в директории *apps/\<app_id>*

Информация обо всех приложениях содержится в файле *apps/apps.json*
### Структура приложения
Главный модуль приложения расположен в *apps/\<app_id>/js/content.js*

Шаблон для отображения интерфейса приложения расположен в *apps/\<app_id>/content.html* (см. Шаблонизатор).

Стили в *apps/\<app_id>/css/content.css*

Логотип в *apps/\<app_id>/img/loge.png*

Главный модуль, шаблон, стили и логотип загружаются при первом открытии приложения.

### Глобальные объекты доступные приложению
**window.stepik** - объект для доступа к stepik api

**window.apps** - объект содержит информацию обо всех зарегистрированных приложениях и категориях.

### Метод init
При загрузке приложение должно определить в метод init. Этот метод вызывается каждый раз при открытии приложения.

`window.apps.application[APP_ID].init = init;`

В нем приложение долно обновить обработчики событый. Прочитать данные из хранилища и т.д.

### Хранение данных между сессиями
Приложение нужно проектировать так, чтобы не было необходимости показывать предупреждения о наличии несохранненных данных.
Приложение должно сохранять своё состояние между запусками.


## Widget
Готовые визуальные компоненты (шаблон + стили). Можно использовать в шаблонах приложений.

## Шаблонизатор

При загрузке шаблона приложения, он обрабатывается шаблонизатором.

Вставка виджета: ${widget.\<имя виджета>}

Переменные: ${\<поле объекта приложения>}

### Соглашение об именовании

**Именование селекторов CSS**

Для приложений:
\<id приложения>-\<имя селектора>

Для виджетов:
\<id виджета>-\<имя селектора>
