<h2>Для разработчиков</h2>
<p>Разработка расширений ведется в репозитории <a href="https://github.com/StepicOrg/stepik-extensions">GitHub</a>.</p>
<p>Сайт <b>ext.stepik.org</b> является статическим сайтом, все расширения выполняются на клиенте.</p>


<h3>Добавление и регистрация расширения</h3>
<ol>
    <li>Создать директорию в <b>exts</b> с именем идентификатора расширения;</li>
    <li>Добавить все необходимые файлы, в соответвии со структурой расширения, описанной ниже;</li>
    <li>Добавить объект расширения в <b>exts/exts.json</b>.</li>
</ol>

<h3>Структура расширения</h3>
Структура расширения повторяет структуру сайта.
Все расширения располагаются в директории <b>exts</b>.
<ul>
    <li>exts
        <ul>
            <li>
                ext_id
                <ul>
                    <li>css
                        <ul>
                            <li>content.css</li>
                        </ul>
                    </li>
                    <li>img
                        <ul>
                            <li>logo.png</li>
                        </ul>
                    </li>
                    <li>js
                        <ul>
                            <li>content.js</li>
                        </ul>
                    </li>
                    <li>widgets</li>
                    <li>content.html</li>
                </ul>
            </li>
        </ul>
    </li>
</ul>

<p>
    <b>ext_id</b> - уникальный идентификатор расширения. Допустимымие сиволы: латинские буквы в нижнем регистре, цифры,
    знак подчеркивания и минус.
    Начинаться должен не с цифры.
</p>
<p>
    <b>ext_id/css/content.css</b> - основной файл стилей расширения. Загружается автоматически, при загрузке расширения.
</p>
<p>
    <b>ext_id/img/logo.png</b> - логотип расширения, отображается в каталоге и в заголовке расширения. Загружается
    автоматически, при загрузке расширения. Обязательный.
</p>
<p>
    <b>ext_id/js/content.js</b> - главный сценарий расширения. Загружается автоматически, при загрузке расширения.
    Обязательный. Этот сценарий регистрирует расширение.
</p>
<p>
    <b>ext_id/widgets</b> - директория для виджетов расширения. Виджеты загружаются только если их загрузка указана в
    <b>exts.json</b>. Необязательный.
</p>
<p>
    <b>ext_id/content.html</b> - основной файл содержимого расширения. Загружается автоматически. Обязательный.
</p>

<h3>content.js</h3>
<p>
    Минимальный текст файла content.js:
</p>
<code lang="javascript">
    <pre>
    ;'use strict';

    window.extensions.register("ext_id", {
        init: function (call_stack) {}
    });
    </pre>
</code>
или
<code lang="javascript">
    <pre>
    ;'use strict';

    window.extensions.register("ext_id", new function () {
        this.init = function (call_stack) {

        };
    });
    </pre>
</code>

<p>Не экспортируйте никаких объектов в глобальную область видимости. Не делайте никаких предположений о порядке загрузки
    расширений.</p>

<h3>Глобальный объект 'extensions'</h3>
<code lang="json">
    <pre>
        extensions: {
            getParam: function (param_name) {},          # Получить значение параметра запуска расширения (параметры GET-запроса),
            register: function (ext_id, ext_object) {}   # Регистрация расширения
        }
    </pre>
</code>

<h3>Файл exts/exts.json</h3>
<code lang="json">
    <pre>
        {
            extensions: {
                "ext_id": {
                    "id": "ext_id",                         # Идентификатор расширения
                    "name": "Extension name",               # Имя расширения (придумайте уникальное имя)
                    "description": "Extension description", # Описание назначения расширения, его функции
                     "categories": [
                        1                                   # Укажите список категорий, в которых будет располагаться расширение в каталоге
                     ],
                     "need_authorization": true,            # true - если для работы с расширение требуется авторизация на Stepik,
                                                            # иначе - false, либо это поле должно отсутствовать
                     "hidden": false,                       # true - скрывать расширение в каталоге, но запустить расширение можно по ссылке,
                                                            # иначе - false, либо это поле должно отсутствовать
                     "disabled": false                      # true - скрывать расширение в каталоге, запустить расширение невозможно,
                                                            # иначе - false, либо это поле должно отсутствовать
                }
            },
            "categories": [                                 # Список категорий каталога
                {
                  "name": "All"                             # Все расширения (не скрытые и не отключенные)
                },
                {
                  "id": 1,                                  # Идентификатор категории
                  "name": "Teaching"                        # Имя категории
                },
                {
                  "id": 2,
                  "name": "Learning"
                },
                {
                  "id": -1,
                  "name": "Others"
                }
              ]
        }
    </pre>
</code>
